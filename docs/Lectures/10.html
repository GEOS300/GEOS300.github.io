<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.533">

  <title>Microscale Weather and Climate - Radiation and heat transfer in water, snow and ice</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Radiation and heat transfer in water, snow and ice</h1>
  <p class="subtitle">What makes liquid and water surfaces so different?</p>

<div class="quarto-title-authors">
</div>

</section>
<section class="slide level2">


<img data-src="images/BB_SnowDay.JPG" class="r-stretch quarto-figure-center"><p class="caption">CA-DBB station after a significant snowfall event</p></section>
<section id="todays-learning-objectives" class="slide level2">
<h2>Today’s learning objectives</h2>
<p>Explain what makes snow and water different compared to most other surface-atmosphere interfaces.</p>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Describe the transmission, absorption and reflection of radiation in water and snow.</li>
<li>Describe how we can define the energy budget of a snow-pack or water body.</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/WedgemontLake.jpg"></p>
<figcaption>Snowmelt at Wedgemont Lake, BC</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="properties-of-snow-and-water-surfaces" class="slide level2">
<h2>Properties of snow and water surfaces?</h2>

<img data-src="images/WedgemontGlacier.jpg" class="r-stretch"><aside class="notes">
<p>Radiatively, snow and ice surfaces are very much more complex than the surfaces we have considered previously. One of the most important differences is that snow and ice both allow some transmission of shortwave radiation. Therefore radiation absorption occurs within a volume rather than at a plane. Albedo!</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="thermal-properties-of-water" class="slide level2 smaller">
<h2>Thermal Properties of Water</h2>

<img data-src="10_files/figure-revealjs/fig-Thermal-Props-1.png" width="768" class="r-stretch quarto-figure-center"><p class="caption">
Figure&nbsp;1: For a given amount of energy input (J), higher heat capacity means a <strong>volume</strong> of a substance will warm more slowly; higher thermal admittance means a <strong>surface</strong> will warm less
</p><aside class="notes">
<p>Thermal admittance: the ability of a surface to accept or release heat since it expresses the temperature change produced by a given heat flux change. Vary across these different phases of water</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="treating-snow-and-water-as-volume-interfaces" class="slide level2 smaller">
<h2>Treating Snow and Water as Volume Interfaces</h2>
<p>In contrast to opaque land surfaces, land-atmosphere interfaces of liquid and solid water transmit radiation into lower layers.</p>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>This means we must know the transmission (and absorption, reflection and emission) of radiation in those media in order to predict energy exchange.<br>
</li>
<li>As a consequence, we must treat water, snow and ice ‘surfaces’ as 3D-volume interfaces.</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/10_5_4.png"></p>
<figcaption>Transmission of short-wave radiation through a glacier (Photo: USGS Webpage)</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="beers-law" class="slide level2 smaller">
<h2>Beer’s Law</h2>
<p>Describes the reduction in flux density of a parallel beam of monochromatic (single wavelength) radiation through a homogeneous medium.</p>
<div class="columns">
<div class="column" style="width:70%;">
<p><span id="eq-Beers-Law"><span class="math display">\[
R_z = R_0 e^{-z\mu}
\qquad(1)\]</span></span></p>
<ul>
<li><strong>Assuming</strong> that absorptivity (and hence transmissivity) are constant:
<ul>
<li>Radiative flux density decays exponentially with depth
<ul>
<li><span class="math inline">\(\mu\)</span> is the attenuation coefficient, <em>not</em> thermal admittance</li>
</ul></li>
</ul></li>
</ul>
</div><div class="column" style="width:30%;">
<p><img data-src="images/Beer.png"></p>
</div>
</div>
<aside class="notes">
<p>Beer’s Law and strictly is applicable only to the transmission of individual wavelengths in a homogeneous medium, but it has been used with success for fairly wide wave-bands (especially the shortwave) in meteorological applications.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="attenuation-coefficient" class="slide level2">
<h2>Attenuation Coefficient</h2>
<p>The constant of proportionality <span class="math inline">\(\mu\)</span> is called attenuation coefficient (m<sub>-1</sub>). It depends on:</p>
<ul>
<li>Wavelength</li>
<li>Nature of the medium</li>
<li>Impurities (i.e.&nbsp;algae, plankton, chemicals)</li>
</ul>
<aside class="notes">
<p>Coefficient <span class="math inline">\(\mu\)</span> depends on the nature of the transmitting medium, and the wavelength of the radiation. It is greater for snow than for ice and hence the depth of penetration is greater in ice. The depth of shortwave penetration can be as great as 1 m in snow, and 10 m in ice. The exponential form of the depletion means that absorption is greatest near the surface and tails off at lower depths.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="attenuation-coefficient-iclicker" class="slide level2">
<h2>Attenuation Coefficient (iClicker)</h2>
<p>Which line (A or B) has a higher attenuation coefficient?</p>

<img data-src="10_files/figure-revealjs/fig-Beers-Law1-3.png" width="960" class="r-stretch quarto-figure-center"><p class="caption">
Figure&nbsp;2: Beam attenuation as a function of z and <span class="math inline">\(\mu\)</span>
</p><aside class="notes">
<p>Coefficient <span class="math inline">\(\mu\)</span> depends on the nature of the transmitting medium, and the wavelength of the radiation. It is greater for snow than for ice and hence the depth of penetration is greater in ice. The depth of shortwave penetration can be as great as 1 m in snow, and 10 m in ice. The exponential form of the depletion means that absorption is greatest near the surface and tails off at lower depths.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="why-is-water-blue" class="slide level2">
<h2>Why is water blue?</h2>
<p>Not only an overall reduction of the radiative flux density but also a shift in the maximum wavelength towards blue.</p>
<ul>
<li><span class="math inline">\(\mu\)</span> of water depends strongly on wavelength <span class="math inline">\(\lambda\)</span>. Absorption is very high in near infrared (NIR, 0.7 to 3 <span class="math inline">\(\mu m\)</span>), and lowers in the visible range (0.4 to 0.7 <span class="math inline">\(\mu m\)</span>).</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="images/10_14_9.gif"></p>
</div><div class="column" style="width:50%;">
<p><img data-src="images/10_13_4.png"></p>
</div>
</div>
</section>
<section id="attenuation-in-water" class="slide level2">
<h2>Attenuation in Water</h2>

<img data-src="10_files/figure-revealjs/fig-Beers-Law2-5.png" width="960" class="r-stretch quarto-figure-center"><p class="caption">
Figure&nbsp;3: Beam attenuation as a function of depth in liquid water for selected wavelenghts of visible light
</p><aside class="notes">
<p>Coefficient <span class="math inline">\(\mu\)</span> depends on the nature of the transmitting medium, and the wavelength of the radiation. It is greater for snow than for ice and hence the depth of penetration is greater in ice. The depth of shortwave penetration can be as great as 1 m in snow, and 10 m in ice. The exponential form of the depletion means that absorption is greatest near the surface and tails off at lower depths. .</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="liquid-vs.-solid" class="slide level2">
<h2>Liquid vs.&nbsp;Solid</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>The liquid and solid state of water have very similar attenuation coefficients k, except for the region between 1350-1750 nm.</p></li>
<li><p>We can use Beer’s law to describe the decay of radiation with depth z in water bodies, snow or ice for different wavelengths.</p></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/10_15_8.gif"></p>
</div>
</div>
<aside class="notes">
<p>And decreasing transmissivity the NIR. In the TIR the spectral transmissivity of ice and water diverge above λ &gt;10 <span class="math inline">\(\mu m\)</span>.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">


<img data-src="images/10_16_3.png" class="r-stretch quarto-figure-center"><p class="caption">Exhaust plume from Amundsen-Scott South Pole Station stratifies into the very stable layer (Photo: J. Dana Hrube)</p></section>
<section id="spectral-transmittance-of-ice-effect-of-impurities" class="slide level2">
<h2>Spectral Transmittance of Ice: Effect of Impurities</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/10_17_2.jpg"></p>
<figcaption>Warren et al (2006)</figcaption>
</figure>
</div>
</div><div class="column" style="width:50%;">
<p>Ice has high transmissivity in the UV-A and blueish visible wavelengths and decreasing transmissivity in the red part of the visible spectrum.</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/10_17_7.gif"></p>
<figcaption>Measuring transmission (Photo: Website U of Washington / Atmos Sci)</figcaption>
</figure>
</div>
</div>
</div>
<aside class="notes">

<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="how-does-this-effect-the-surface-energy-balance" class="slide level2">
<h2>How Does this Effect the Surface Energy Balance?</h2>

<img data-src="images/10_18_3.jpg" class="r-stretch quarto-figure-center"><p class="caption">Photo: A. Christen</p><aside class="notes">
<p>Albedo &amp; reflectance</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="the-radiation-balance-of-snow-and-ice-reflectance" class="slide level2">
<h2>The Radiation Balance of Snow and Ice: Reflectance</h2>
<div class="columns">
<div class="column" style="width:65%;">
<ul>
<li>One of the most important characteristics of snow and ice is their high albedo</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/10_19_3.jpg"></p>
<figcaption><a href="https://i0.wp.com/oceanbites.org/wp-content/uploads/2014/12/albedo_2.jpg">Source</a></figcaption>
</figure>
</div>
</div><div class="column" style="width:35%;">
<p><img data-src="images/10_19_2.jpg"></p>
</div>
</div>
<aside class="notes">
<p>One of the most important characteristics of snow and ice is their high albedo  overall low energy status. The introduction of even a thin snow cover over the landscape has dramatic effects. In a matter of a few hours a natural landscape can experience a change in albedo from approximately 0.25 to perhaps 0.80. Thereafter α declines as the snow pack ages (becomes compacted, and soiled), but with a fresh snow-fall it rapidly increases again. The wavelength dependence of the albedo of snow helps to explain the ease with which human skin becomes sunburnt, especially on sunny days on snow covered mountains.</p>
<p>Human skin is very sensitive to ultra-violet (UV) radiation, with peak sensitivity at about 0.3 <span class="math inline">\(\mu m\)</span>. The potential for sunburn stretches from 0.295 to 0.330 <span class="math inline">\(\mu m\)</span>. The lower limit is governed by the almost total absorption of these wavelengths by ozone in the high atmosphere (Reading Package Lectures 3-4, Figure 5, Panel b). With a fresh snow cover the receipt of potentially burning ultra-violet radiation by exposed skin is almost doubled, because in addition to that received from the incoming beam there is a very significant proportion received after surface reflection (due to the high value of αλ at these short wavelengths). The upward flux is responsible for sunburn on earlobes, throat and within nostrils, areas which are sensitive and normally in shade.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="radiation-balance-of-snow-and-ice-antarctica" class="slide level2">
<h2>Radiation Balance of Snow and Ice: Antarctica</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="images/10_20_2.jpg"></p>
</div><div class="column" style="width:50%;">
<p><img data-src="images/10_20_3.jpg"></p>
</div>
</div>
<aside class="notes">
<p>Surface: The internal transmission of radiation through snow and ice gives problems in formulating the surface balance and in observation. For example, measurements of reflected shortwave from an instrument mounted above the surface include both surface and sub-surface reflection. The albedo calculated from such measurements is therefore a volume not a surface value. LW: However, although their emissivity ε is high the absolute magnitude of L↑ is usually relatively small because the surface temperature T0 is low. Since clouds are also close to being full radiators the net longwave exchange (L∗) between a fresh snowpack and a complete overcast is simply a function of their respective temperatures. Should the cloudbase be warmer than the snow surface there will actually be a positive L∗ budget at the snow surface. With clear skies L∗ is almost always negative, as is true of most other surfaces. Net allwave radiation. In general it may be said that the daytime net radiation surplus (Q∗) of snow and ice is small by comparison with most other natural surfaces. This is directly attributable to the high surface albedo. In the case of the Antarctic early summer budget shown in Figure 1 the surface albedo is 0.80. This results in so little shortwave radiation absorption that when it is combined with a net longwave loss, that is quite similar to other environments, the midday net all-wave radiation is less than 10% of the incoming solar radiation K↓. In- deed even though the daylength at this high latitude is about 21 h, the total daily net radiation is negative (approximately −1.0 MJ m−2 d−1).</p>
<p>Variation of the radiation budget components over snow at Mizuho Station, Antarctica (70◦S), on 13 November 1979 (after Yamanouchi et al., 1981).</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="net-radiation-in-snow-and-ice" class="slide level2">
<h2>Net-radiation in snow and ice</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>We can calculate net radiation <span class="math inline">\(R_n(z)\)</span> for each depth layer.</li>
<li>In snow, long-wave radiation is relatively quickly absorbed, but short-wave radiation is less reduced with depth. Also long-wave emission to the atmosphere is limited to a shallow layer.</li>
<li>During daytime, net radiation <span class="math inline">\(R_n(z)\)</span> in a certain layer is the sum of short-wave <span class="math inline">\(SW^*_z\)</span> and long wave <span class="math inline">\(LW^*_z\)</span> in this layer.</li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/Snow_Ice_Balance.png"></p>
</div>
</div>
<aside class="notes">
<p>The radiative input (both short- and longwave) to the pack from above is absorbed in general accord with Beer’s Law (equation 8.2). The longwave portion is relatively quickly absorbed, but shortwave penetrates to much greater depths. The radiative loss consists of shortwave reflection, and that longwave emission able to escape to the atmosphere. The strong absorptivity of snow in the infrared only allows this loss to occur from a thin surface layer. Therefore the net radiation at any depth (Q∗z , the differ- ence between these gains and losses) shows a maximum absorption just below the surface during the day. This level, and not the snow surface, is the site of maximum heating, and therefore has the highest temperature.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="snow-temperature-profiles" class="slide level2 smaller">
<h2>Snow Temperature Profiles</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Due to the difference in radiative absorption of the long-wave and the short-wave radiation, daytime net radiation <span class="math inline">\(R_n\)</span> is greatest just below the surface, creating a subsurface temperature maximum.</li>
<li>If <span class="math inline">\(R_n\)</span> dominates the melting process, this subsurface layer shows first snow-melting → ‘loose’ or ‘hollow’ character of a melting snow pack.</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/10_22_3.png"></p>
<figcaption>T.R. Oke (1987): ‘Boundary Layer Climates’ 2nd Edition.</figcaption>
</figure>
</div>
</div>
</div>
<aside class="notes">
<p>If Q∗ dominates the melt at a site it is therefore most effective below the surface and this accounts for the ‘loose’ or ‘hollow’ character of the surface of a melting snowpack. At night with only longwave radiative exchange the active surface is at, or very near, the actual surface. The lowest nocturnal temperatures occur at the snow surface, and the daytime sub-surface temperature maximum migrates downward by conduction.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">


<img data-src="images/10_23_3.jpg" class="r-stretch quarto-figure-center"><p class="caption">Photo: Joe Shea (UBC Geography)</p><aside class="notes">
<p>What are some other considerations? The energy balance of snow is complicated not only by the penetration of shortwave radiation into the pack but also by internal water movement, and phase changes.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="the-energy-balance-of-snow-and-ice" class="slide level2">
<h2>The energy balance of snow and ice</h2>
<div class="columns">
<div class="column" style="width:75%;">
<p>Beside the 3D framework, also the phase changes of water play an important role in the energy balance of a snow and ice volumes.</p>
<p><img data-src="images/10_24_5.jpg"></p>
</div><div class="column" style="width:25%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/10_25_5.jpg"></p>
<figcaption>Photo: A. Christen</figcaption>
</figure>
</div>
</div>
</div>
<aside class="notes">
<p>The energy balance of snow is complicated not only by the penetration of shortwave radiation into the pack but also by internal water movement, and phase changes.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="the-energy-balance-of-snow-and-ice-1" class="slide level2">
<h2>The energy balance of snow and ice</h2>
<div class="columns">
<div class="column" style="width:75%;">
<p>Beside the 3-d framework, also the phase changes of water play an important role in the energy balance of a snow and ice volumes.</p>
<ul>
<li>Phase changes of water are accounted by a special term in the energy balance, <span class="math inline">\(\Delta M\)</span>, which is the energy flux density put into (or released by) the latent heat of fusion of ice (Lf = 0.334 MJ kg<sup>-1</sup> at 0ºC)</li>
</ul>
<p><span id="eq-Surface-Energy-Balance-Ice"><span class="math display">\[
\color{orange}{R_n} = \color{red}{H} + \color{blue}{LE} + \color{green}{\Delta S} + \color{grey}{\Delta M}
\qquad(2)\]</span></span></p>
</div><div class="column" style="width:25%;">
<p><img data-src="images/10_25_5.jpg"></p>
</div>
</div>
<aside class="notes">
<p>The net heat storage term (∆QS) then represents the convergence or divergence of sensible heat fluxes within the volume. This term includes internal energy gains or losses due to variations of radiation, and heat conduction. Phase changes of water in the snow or ice volume are accounted for by ∆QM which is the latent heat storage change due to melting or freezing. In the case of rain percolation, this represents an additional heat source for the pack. For example, if rainwater percolating through the pack freezes it will release latent heat of fusion which is available to warm the surrounding snow.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div class="columns">
<div class="column" style="width:50%;">
<p>‘Cold’ snow pack</p>
<p>The state of a snow pack</p>
<ul>
<li>TS well below 0ºC.Only solid state of water.</li>
<li>No water available for LE or <span class="math inline">\(\Delta M\)</span>.</li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/10_27_4.jpg"></p>
</div>
</div>
<aside class="notes">
<p>A better approach is to consider a volume balance and to treat all fluxes as equivalent flows through the sides of the volume. Cold snowpacks. Let us consider the case of a ‘cold’ snowpack typical of high latitudes in winter with little or no solar input. Under these conditions LE and ∆QM (latent heat storage change) are likely to be negligible because there is no liquid water for evaporation, little atmospheric vapour for condensation or sublimation, and both the precipitation and the contents of the snowpack all remain in the solid phase. Similarly heat conduction within the snow will be very small because of the very low conductivity of snow and the lack of any solar heating, so ∆QS and QG are also negligible</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="the-state-of-a-snow-pack" class="slide level2">
<h2>The State of a Snow Pack</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>‘Cold’ snow pack</strong></p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/10_27_4.jpg"></p>
<figcaption>TS well below 0ºC. Only solid state of water. No water available for LE or <span class="math inline">\(\Delta M\)</span>.</figcaption>
</figure>
</div>
</div><div class="column" style="width:50%;">
<p><strong>‘Wet’ snow pack</strong></p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/10_27_5.jpg"></p>
<figcaption>TS at 0ºC and often isothermal. Both solid and liquid state of water makes LE or <span class="math inline">\(\Delta M\)</span> important. <span class="math inline">\(H_r\)</span> is the heat input by rain (i.e.&nbsp;TR &gt; TS)</figcaption>
</figure>
</div>
</div>
</div>
<aside class="notes">
<p>‘Wet’ snowpacks. A wet snowpack during the melt period the surface temperature will be held very close to 0◦C but the air temperature may be above freezing. Precipitation may then be as rain and the energy balance (Figure 2b) becomes: Here<span class="math inline">\(H_r\)</span> heat supplied by rain if its temperature is greater than that of the snow. In some mid-latitude locations<span class="math inline">\(H_r\)</span> can be a significant energy source for melt, especially where the area is open to storms originating over warm oceans. During active melting both radiation (Q∗) and convection (QH + LE) act as energy sources (Figure 2b) to support the change of phase (ice to water). The temperature of the snow changes very little in this process; therefore the large change of energy storage is due to latent rather than sensible heat uptake, i.e.&nbsp;∆QM (latent heat storage change) rather than ∆QS.</p>
<p>The role of LE in the case of ‘wet’ snow is interesting. The surface vapour pressure of a melting ice or snow surface is of course the saturation value (e∗) at 0◦C which equals 611 Pa (See Oke, 1987, Table A3.2, p.&nbsp;394). In absolute terms this is a low value and it is very common to find the warmer air above the surface has a greater vapour pressure. In that case an air-to- surface vapour pressure gradient exists, so that any turbulence contributes a downwards flux of moisture, and condensation on the surface. Since at 0◦C the latent heat of vaporization (Lv) released upon condensation is 7.5 times larger than the latent heat of fusion (Lf ) required for melting water, for every 1 g of water condensed sufficient energy is supplied to melt a further 7.5 g. Under these conditions LE is an important energy source. Of course should the air be drier than 611 Pa the vapour gradient would be the reverse, evaporation would occur</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="energy-balance-of-a-melting-snow-volume" class="slide level2">
<h2>Energy balance of a melting snow volume</h2>

<img data-src="images/10_28_3.png" class="r-stretch"><aside class="notes">
<p>An example of the energy balance of a melting snow cover from the Canadian Prairies in Spring is given in Figure 3. The primary source of energy for the melt in this case is the net radiation. There is a small input of sensible heat by turbulent transfer throughout the day. This is because the air-mass was slightly warmer than the snow surface. Prior to noon the heat input to the pack is almost entirely put into storage, ∆QS. This is used to raise the snow temperature from its overnight value to the freezing point and then to change the proportions of ice and water in the pack. The melt peaks in the afternoon period and then declines as the pack cools again. The decline is retarded somewhat by the release of latent heat of fusion (Lf ) as the upper layers re-freeze.</p>
<p>In Figure 3 heat conduction into the soil is not large enough to warrant inclusion.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="albedo-of-a-water-surface" class="slide level2">
<h2>Albedo of a water surface</h2>

<img data-src="images/10_29_4.jpg" class="r-stretch"><aside class="notes">
<p>The thermal and dynamic properties of water bodies (oceans, seas, lakes, etc.) makes them very important stores and transporters of energy and mass. This means that heat transfer within water is possible not only by conduction and radiation, but also by convection and advection. Shortwave radiation can be transmitted within water, and its variation with depth is well approximated by Beers law (equation 8.2), with the attenuation coefficient dependent upon both the nature of the water and the wavelength of the radiation. In most water bodies shortwave radiation is restricted to the uppermost 10 m, but in some very clear tropical waters it has been observed to reach 700 to 1000 m</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="albedo-of-a-water-surface-1" class="slide level2">
<h2>Albedo of a water surface</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>Albedo of liquid water strongly depends on the angle at which the direct solar beam hits the water surface.</p>
<p><img data-src="images/Angle.jpg"></p>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/10_30_5.png"></p>
<figcaption>T.R. Oke (1987): ‘Boundary Layer Climates’ 2nd Edition.</figcaption>
</figure>
</div>
</div>
</div>
<aside class="notes">
<p>The albedo (α) of a water surface, like that of snow, is not constant. In particular it depends upon the angle at which the direct beam (S) strikes the surface. With cloudless skies and the Sun at least 30◦ above the horizon, water is one of the most effective absorbing surfaces (α in the range 0.03 to 0.10), but at lower solar altitudes its reflectivity increases sharply. When the Sun is close to the horizon near sunrise and sunset the reflection is mirror-like, and this accounts for the dazzling effect at these times. Under cloudy skies the diffuse solar radiation (D) forms a larger proportion of the incoming solar radiation (K↓), and the effect of solar altitude is considerably dampened.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="specular-and-diffuse-reflection" class="slide level2">
<h2>Specular and Diffuse Reflection</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/Specular.png"></p>
<figcaption>Specular: beam reflected at same angle (like mirror)</figcaption>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/Diffuse.png"></p>
<figcaption>Diffuse: beam diffused isotropically (Lambertian)</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="influence-of-waves-on-albedo" class="slide level2">
<h2>Influence of waves on albedo</h2>

<img data-src="images/Waves.png" class="r-stretch"><p>:::</p>
<p>::::</p>
<aside class="notes">
<p>The altitude dependence is also modified by the roughness of the water surface. With a roughened surface (waves) and high solar altitudes there is a greater probability that the incident beam will hit a sloping rather than a horizontal surface, thereby tending to increase α; whereas at low altitudes instead of grazing the surface the beam is likely to encounter a wave slope at a local angle which is more conducive to absorption, thereby decreasing α in comparison with smooth water. In all cases the albedo includes reflection from within the water as well as from the surface.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="the-radiation-balance-of-an-open-water-surface" class="slide level2">
<h2>The radiation balance of an open water surface</h2>

<img data-src="images/10_34_3.jpg" class="r-stretch"><aside class="notes">
<p>Radiation absorption is strong</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="the-energy-balance-of-an-open-water-surface" class="slide level2">
<h2>The energy balance of an open water surface</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Open water surfaces (rivers, lakes, oceans) have the unique feature compared to land surfaces, that turbulent exchange is important on both sides, the atmosphere and the hydrosphere.</li>
<li>Similar to air, turbulent exchange is much more efficient than molecular heat conduction in water.</li>
<li>Further advective energy flux densities (ΔQA) are almost all the time significant.</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/10_35_3.png"></p>
<figcaption>T.R. Oke (1987): ‘Boundary Layer Climates’ 2nd Edition.</figcaption>
</figure>
</div>
</div>
</div>
<aside class="notes">
<p>This means that heat transfer within water is possible not only by conduction and radiation, but also by convection and advection. Where ∆QS change of heat storage in the layer, ∆QA net horizontal heat transfer due to water currents. Radiation absorption by a water body is strong and it should be noted that for large portions of the daytime more of this energy is being used to heat the water (∆QS ). At night this energy store becomes the source of energy which sustains an upward flow of heat to the atmosphere throughout the period. Any water body therefore acts as a major heat sink by day, and a major heat source at night. On an annual basis for large water bodies ∆QS can be assumed negligible (i.e.&nbsp;zero net heat storage). The energy balances of the major oceans are then as given in Table 3.1 which strikingly illustrates the dominant role played by evaporation (LE ) as an energy sink for a water body. On an annual basis approximately 90% of Q∗ is used to evaporate water, and this leads to characteristically small Bowen ratio (β) values of approximately 0.10.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="take-home-points" class="slide level2">
<h2>Take home points</h2>
<div class="columns">
<div class="column" style="width:100%;">
<ul>
<li>Beer’s law describes the transmission of radiation through a medium (snow, water) at a given wavelength. attenuation Coefficient <span class="math inline">\(\mu\)</span> for water is changing from low (VIS, blue) to high (NIR).</li>
<li>Radiation balance of a snow pack volume can cause <span class="math inline">\(R_n\)</span> maximum below surface, and hence subsurface temperature maximum that causes melting and ‘hollow’ snow pack.</li>
<li>The energy balance for a snow-pack or ice volume needs to consider the latent heat of fusion. Depending on snow/ice temperature we distinguish between dry ‘cold’ and melting ‘warm’ snowpacks.</li>
</ul>
</div><div class="column" style="width:0%;">

</div>
</div>


</section>
    <div class="quarto-auto-generated-content">
<div class="footer footer-default">
<p><a href="index.html">Back to Homepage</a></p>
</div>
</div></div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': false,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'pdfMaxPagesPerSlide': 1,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: true,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: true,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'bottom-right',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>