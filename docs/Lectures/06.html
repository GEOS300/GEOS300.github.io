<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.533">

  <title>Microscale Weather and Climate - Longwave Radiation</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Longwave Radiation</h1>
  <p class="subtitle">Peak emissions band of the Earth-Climate System</p>

<div class="quarto-title-authors">
</div>

</section>
<section id="learning-objectives" class="slide level2 smaller">
<h2>Learning Objectives</h2>
<ul>
<li>See how radiation laws apply to long-wave radiative exchange and how long-wave radiation can interact with surfaces.</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Explain how we can calculate longwave outgoing radiation, and how it relates to surface emissivity.</li>
<li>Know how we can estimate / model longwave incoming radiation and the emissivity of the atmosphere.</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/06_2_4.jpg"></p>
<figcaption>People in front of a heated building in winter as seen in the thermal infrared by a thermal camera (Source: A. Christen)</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="what-is-longwave-radiation" class="slide level2">
<h2>What is ‘Longwave’ radiation?</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/06_3_0.png"></p>
<figcaption>Short-wave (VIS) D. Scherer, Ecology Department, TU Berlin</figcaption>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/06_3_12.png"></p>
<figcaption>Longwave (TIR) D. Scherer, Ecology Department, TU Berlin</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="measuring-long-wave-radiation" class="slide level2 smaller">
<h2>Measuring Long-wave Radiation</h2>
<p>Numerous instruments can measure long-wave radiation received in a particular field of view (FOV), within a particular band, and/or with a particular spatial resolution.</p>
<div class="columns">
<div class="column" style="width:25%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/06_4_3.png"></p>
<figcaption>Thermal camera</figcaption>
</figure>
</div>
</div><div class="column" style="width:35%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/06_4_5.jpg"></p>
<figcaption>Pyrgeometer</figcaption>
</figure>
</div>
</div><div class="column" style="width:35%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/06_4_9.jpg"></p>
<figcaption>Thermal satellite channel</figcaption>
</figure>
</div>
</div>
</div>
<aside class="notes">
<p>A radiometer measures the long-wave radiance received in a particular field of view (FOV), within a particular band, and with a particular spatial resolution. In remote sensing, sensors are built to pick up those specific spectral bands. Near IR, Mid-IR, Far IR Demo here</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="stefan-boltzmann-law-grey-body" class="slide level2 smaller">
<h2>Stefan-Boltzmann Law: Grey Body</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>Natural objects (called grey bodies) are not full radiators. Their emittance is given by adapting the Stefan-Boltzman law:</p>
<p><span id="eq-Stefan-Boltzman-Law-Grey-Body"><span class="math display">\[
E_g = \epsilon\sigma_b T^4
\qquad(1)\]</span></span></p>
<p>where <span class="math inline">\(\sigma = 5.67 * 10^-8\)</span></p>
<ul>
<li>where <span class="math inline">\(\epsilon\)</span> is their surface emissivity. Emissivity is the ratio of the actual emission to that of a blackbody (i.e.&nbsp;<span class="math inline">\(\epsilon\)</span> = 1.0).</li>
<li>This law is the basis of remote sensing in the TIR</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div id="tbl-5_5" class="cell quarto-float">
<figure class="quarto-float quarto-float-tbl">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-5_5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Long-wave emissivity coeficients (<span class="math inline">\(\epsilon_{LW}\)</span>) for selected surfaces
</figcaption>
<div aria-describedby="tbl-5_5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell">
<thead>
<tr class="header">
<th style="text-align: left;">Surface</th>
<th style="text-align: left;">Long wave Emissivity epsilon_ LW</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Soil</td>
<td style="text-align: left;">0.90 – 0.98</td>
</tr>
<tr class="even">
<td style="text-align: left;">Grass</td>
<td style="text-align: left;">0.90 – 0.95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Crops</td>
<td style="text-align: left;">0.90 – 0.99</td>
</tr>
<tr class="even">
<td style="text-align: left;">Forests</td>
<td style="text-align: left;">0.97 – 0.99</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Water</td>
<td style="text-align: left;">0.92 – 0.97</td>
</tr>
<tr class="even">
<td style="text-align: left;">Iron</td>
<td style="text-align: left;">0.13 – 0.28</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>All bodies possessing energy (i.e.&nbsp;whose temperatures are above absolute zero, 0 K = −273.2◦C) emit radiation. If a body at a given temperature emits the maximum possible amount of radiation per unit of its surface area in unit time then it is called a black body. Such a body has a surface emissivity ε equal to unity. If the body is not a full radiator. Emissivity = absorptivity (low emissivity = reflects much of the radiant thermal energy) The map shows the long-wave emittance and reflectance of the land and ocean surface &nbsp;Stefan–Boltzmann constant (sigma)</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">


<img data-src="images/06_6_2.png" class="r-stretch quarto-figure-center"><p class="caption">Emittance (W m<sup>-2</sup>) of Vancouver seen from ASTER satellite Sept 3 2010 12:24 PDT</p><aside class="notes">
<p>Advanced Spaceborne Thermal Emission and Reflection Radiometer on the Terra satellite launched into Earth orbit by NASA in 1999 The figure visualizes radiation measured between λ = 8μm and λ = 13μm by a satellite sensor The map shows the long-wave emittance and reflectance of the land and ocean surface</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="atmospheric-windows" class="slide level2">
<h2>Atmospheric Window(s)</h2>

<img data-src="images/06_7_1.jpg" class="r-stretch"><aside class="notes">
<p>The satellite measures in this range because this is the atmospheric window in the long-wave part of the spectrum. In this range a cloudless atmosphere is quite transparent, as only a few trace gases absorb radiation. This allows us to see the surface, and not the intervening atmosphere.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="kirchhoffs-law" class="slide level2">
<h2>Kirchhoff’s law</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><span id="eq-Kirchhoffs-Law"><span class="math display">\[
\zeta_{\lambda} = \epsilon_{\lambda}
\qquad(2)\]</span></span></p>
<ul>
<li>Assuming no transmission the absorptivity of a body (<span class="math inline">\(\zeta_\lambda\)</span>) equals its emissivity (<span class="math inline">\(\epsilon_\lambda\)</span>) at a given wavelength.
<ul>
<li>A good absorber is a good emitter</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/06_8_5.gif"></p>
</div>
</div>
<aside class="notes">
<p>For an arbitrary body emitting and absorbing thermal radiation in thermodynamic equilibrium, the emissivity is equal to the absorptivity.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="kirchhoffs-law-iclicker" class="slide level2">
<h2>Kirchhoff’s Law (iClicker)</h2>
<p>Plants are good absorbers of <span class="math inline">\(SW\)</span> radiation, so why don’t they emit just as much <span class="math inline">\(SW\)</span> as they absorb?</p>
<ul>
<li>A: They aren’t hot enough (Stefan-Boltzmann)</li>
<li>B: The do emit <span class="math inline">\(SW\)</span>, we call this Albedo</li>
</ul>
</section>
<section id="kirchhoffs-law-1" class="slide level2">
<h2>Kirchhoff’s Law</h2>
<p>Kirchhoff’s law only applies if the wavelength considered is the same – do not mix them together.</p>
<ul>
<li>Kirchhoff’s law only has relevance to long-wave exchange in climatology.<br>
</li>
<li>The law does not apply to fluorescent objects, which can absorb energy at a given a wavelength and release it at another one.</li>
</ul>
</section>
<section id="mass-radiation-interactions" class="slide level2">
<h2>Mass-Radiation Interactions</h2>
<p><span id="eq-Conservation-Equation-Radiation"><span class="math display">\[
\zeta_\lambda + \Psi_\lambda + \alpha_\lambda = 1
\qquad(3)\]</span></span></p>

<img data-src="images/05_3_3.gif" class="r-stretch quarto-figure-center"><p class="caption">Transmission (<span class="math inline">\(\Psi_\lambda\)</span>), Reflection (<span class="math inline">\(\alpha_\lambda\)</span>), Absorption (<span class="math inline">\(\zeta_\lambda\)</span>), Emission (<span class="math inline">\(\epsilon_\lambda\)</span>)</p></section>
<section id="long-wave-reflection" class="slide level2">
<h2>Long-wave Reflection</h2>
<p>Most (solid) surfaces are opaque to long-wave (i.e., <span class="math inline">\(\Psi_{LW} \approx 0\)</span>), so we can simplify our radiation conservation equation for <span class="math inline">\(LW\)</span>: <span id="eq-Longwave-Radiation-Balance"><span class="math display">\[
\zeta_{LW} + \alpha_{LW} = 1
\qquad(4)\]</span></span></p>
<p><span id="eq-Longwave-Reflectivity"><span class="math display">\[
\alpha_{LW} = 1 - \epsilon_{LW}
\qquad(5)\]</span></span></p>
</section>
<section id="long-wave-reflection-iclicker" class="slide level2 smaller">
<h2>Long-wave Reflection (iClicker)</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>Which surface would you expect to have the highest <span class="math inline">\(\alpha_{LW}\)</span>?</p>
<ul>
<li>A Peat (organic soil)</li>
<li>B Wood</li>
<li>C Steel (Iron-carbon alloy)</li>
<li>D Wheat</li>
<li>E A Cow</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div id="tbl-5_2" class="cell quarto-float">
<figure class="quarto-float quarto-float-tbl">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-5_2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Long-wave emissivity coeficients (<span class="math inline">\(\epsilon_{LW}\)</span>) for selected surfaces
</figcaption>
<div aria-describedby="tbl-5_2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell">
<thead>
<tr class="header">
<th style="text-align: left;">Surface</th>
<th style="text-align: left;">Long wave Emissivity epsilon_ LW</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Soil</td>
<td style="text-align: left;">0.90 – 0.98</td>
</tr>
<tr class="even">
<td style="text-align: left;">Grass</td>
<td style="text-align: left;">0.90 – 0.95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Crops</td>
<td style="text-align: left;">0.90 – 0.99</td>
</tr>
<tr class="even">
<td style="text-align: left;">Forests</td>
<td style="text-align: left;">0.97 – 0.99</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Water</td>
<td style="text-align: left;">0.92 – 0.97</td>
</tr>
<tr class="even">
<td style="text-align: left;">Iron</td>
<td style="text-align: left;">0.13 – 0.28</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="long-wave-reflection-1" class="slide level2">
<h2>Long-wave Reflection</h2>

<img data-src="images/06_13_2.png" class="r-stretch quarto-figure-center"><p class="caption">Glass transmits a substantial fraction of visible light, but is relatively opaque to <span class="math inline">\(LW\)</span></p><aside class="notes">
<p>Low-E, or low-emissivity,&nbsp;glass&nbsp;was created to minimize the amount of infrared and ultraviolet light that comes through your&nbsp;glass, without minimizing the amount of light that enters your home. Low-E&nbsp;glass windows&nbsp;have a microscopically thin coating that is transparent and reflects heat.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="net-long-wave-flux-density" class="slide level2">
<h2>Net Long-wave Flux Density</h2>
<p>The net long-wave radiation flux density (<span class="math inline">\(LW^*\)</span>) at the surface is the difference between the input from the atmosphere above (<span class="math inline">\(LW\downarrow\)</span>) and the output surface (<span class="math inline">\(LW\uparrow\)</span>).</p>
<p><span id="eq-Long-wave-Flux-Density"><span class="math display">\[
LW^* = LW\downarrow - LW\uparrow
\qquad(6)\]</span></span></p>
<div class="fragment">
<ul>
<li>Surface output includes <strong>both</strong> emissions from surface <strong>and</strong> reflected <span class="math inline">\(LW\downarrow\)</span>
<ul>
<li>Differs from <span class="math inline">\(SW*= SW\downarrow - SW\uparrow\)</span></li>
<li><span class="math inline">\(SW\uparrow\)</span> is <strong>only</strong> reflected <span class="math inline">\(SW\)</span>, earth doesn’t emit <span class="math inline">\(SW\)</span>!</li>
</ul></li>
</ul>
</div>
</section>
<section id="long-long-wave-flux-density" class="slide level2">
<h2>Long-Long-wave Flux Density</h2>

<img data-src="images/06_14_3.png" class="r-stretch"></section>
<section id="net-long-wave-flux-density-1" class="slide level2">
<h2>Net Long-wave Flux Density</h2>
<p>We can re-formulate the previous equation in terms of the Stefan-Boltzmann Law:</p>
<p><span id="eq-Long-wave-Flux-Density-Stefan-Boltzman"><span class="math display">\[
LW^* = LW\downarrow - \epsilon_{LW}\sigma_b T_s^4 -(1-\epsilon_{LW})LW\downarrow
\qquad(7)\]</span></span></p>
<ul>
<li>How is this equivalent to <a href="#/net-long-wave-flux-density" class="quarto-xref">Equation&nbsp;6</a></li>
</ul>
<div class="fragment">
<ul>
<li>Stefan-Boltzman gives us emissions from a surface of temperature <span class="math inline">\(T_s\)</span> with a long-wave emissivity of <span class="math inline">\(\epsilon_{LW}\)</span></li>
</ul>
<div class="fragment">
<ul>
<li><span class="math inline">\((1-\epsilon_{LW})\)</span> gives us reflectivity</li>
</ul>
</div>
</div>
<aside class="notes">
<p>Clouds, when present, are the major contributors to the incoming longwave radiation to the surface. They radiate like blackbodies (e ^ 1) at their respective cloud base temperatures. In passing through the atmosphere, a large part of the terrestrial radiation is absorbed by atmospheric gases, such as water vapor, carbon dioxide, nitrogen oxides, methane, and ozone. In particular, water vapor and CO2 are primarily responsible for absorbing the terrestrial radiation and reducing its escape to the space (the so-called greenhouse effect). The atmospheric gases and aerosols which absorb energy also radiate energy.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="estimating-surface-emissivity" class="slide level2 smaller">
<h2>Estimating Surface Emissivity</h2>
<p>We can compare the apparent surface temperature <span class="math inline">\(T_r\)</span>, which assumes the surface is a black body: <span id="eq-Apparent-Surface-Temperature"><span class="math display">\[
\sigma T_r^4 = \epsilon_{s} T_s^4 + (1-\epsilon_{s})LW_{\downarrow}
\qquad(8)\]</span></span></p>
<p>In reality, we have both emission and reflection. We can re-arrange to isolate <span class="math inline">\(T_s\)</span> <span id="eq-Surface-Temperature"><span class="math display">\[
T_s = [\frac{\sigma T_r^4-(1-\epsilon_{s})LW_{\downarrow}}{\epsilon_{s}\sigma}]
\qquad(9)\]</span></span></p>
<p>then substitute <span class="math inline">\(sigma T_k^4\)</span> (<span class="math inline">\(T_k\)</span> = apparent sky temperature) and re-arrange again: <span id="eq-Surface-Emissivity"><span class="math display">\[
\epsilon_{s} = \frac{T_r^4-T_k^4}{T_s^4-T_k^4}
\qquad(10)\]</span></span></p>
<aside class="notes">
<p>Infrared thermometer with emissivity = 1</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="sky-temperature" class="slide level2">
<h2>Sky Temperature</h2>
<p><span id="eq-Sky-Temperature"><span class="math display">\[
LW_\downarrow = \epsilon_{sky} \sigma T_{sky}^4
\qquad(11)\]</span></span></p>
<p>Apparent sky temperature is calculated by setting <span class="math inline">\(\epsilon{sky} = 1\)</span> <span id="eq-Apparent-Sky-Temperature"><span class="math display">\[
LW_\downarrow = \sigma T_{k}^4
\qquad(12)\]</span></span></p>
</section>
<section id="calculating-lw_downarrow" class="slide level2 smaller">
<h2>Calculating <span class="math inline">\(LW_\downarrow\)</span></h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Screen level observations are typically available from regular climate stations for air temperature (<span class="math inline">\(T_a\)</span>) and sometimes vapour pressure (<span class="math inline">\(P_v\)</span>) but not <span class="math inline">\(LW_\downarrow\)</span></li>
<li>If we are interested in estimating <span class="math inline">\(LW_\downarrow\)</span> across full long-wave range (3 to 100 µm) we need a bulk value of <span class="math inline">\(\epsilon_a\)</span> for both cloudless and cloudy cases.</li>
<li>Several equations are available to estimate <span class="math inline">\(\epsilon_a\)</span> from screen-level <span class="math inline">\(T_a\)</span> and <span class="math inline">\(P_v\)</span>.</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/StevensonScreen.png"></p>
<figcaption>A standard Stevenson-screen sheltering sensors to measure air temperature and humidity (Photo: A. Christen)</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="calculating-lw_downarrow---how-to-estimate-epsilon_a" class="slide level2">
<h2>Calculating <span class="math inline">\(LW_\downarrow\)</span> - How to estimate <span class="math inline">\(\epsilon_a\)</span></h2>
<ul>
<li>Using <span class="math inline">\(T_a\)</span> and <span class="math inline">\(P_v\)</span> to estimate <span class="math inline">\(\epsilon_a\)</span> works because:
<ul>
<li><span class="math inline">\(T_a\)</span> and <span class="math inline">\(P_v\)</span> are the main controls that change in the atmosphere</li>
<li>Variations in CO2, O3 and other greenhouse gases are small.</li>
<li><span class="math inline">\(T_a\)</span> and <span class="math inline">\(P_v\)</span> are largest and show their greatest variation near the ground. Approximately 50% of <span class="math inline">\(LW_\downarrow\)</span> originates from 0 to 100m.</li>
</ul></li>
</ul>
<aside class="notes">
<p>Emissivity varies with temperature EQUATION FOR <span class="math inline">\(P_v\)</span></p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="calculating-lw_downarrow-prata-1996" class="slide level2 smaller">
<h2>Calculating <span class="math inline">\(LW_\downarrow\)</span> (Prata 1996)</h2>
<p><span id="eq-Prata"><span class="math display">\[
\epsilon_a = [1-(1+zeta)\exp{-(a+b\zeta)^{0.5}}]
\qquad(13)\]</span></span></p>
<p>where a = 1.2, b=3.0, and <span class="math inline">\(\zeta = 46.5\frac{P_v}{T_a}\)</span> with <span class="math inline">\(T_a\)</span> in Kelvin and <span class="math inline">\(P_v\)</span> in hPa.</p>
<p>where you can calculate <span class="math inline">\(P_v\)</span> from RH as:</p>
<p><span id="eq-Relative-Humidity"><span class="math display">\[
RH=\frac{P_v}{P_v^*}
\qquad(14)\]</span></span></p>
<p>and approximate <span class="math inline">\(P_v^*\)</span> using the Tetens equation:</p>
<p><span id="eq-Tetens"><span class="math display">\[
P_v^* = 6.112\exp{17.62\frac{T_a}{243.12+T_a}}
\qquad(15)\]</span></span></p>
<p><strong>Note</strong> that <span class="math inline">\(T_a\)</span> must be in <span class="math inline">\(C^\circ\)</span> for this approximation. It will give <span class="math inline">\(P_v^*\)</span> in hPa.</p>
<aside class="notes">
<p>Td = &nbsp;temperature at which the air can no longer “hold” all of the&nbsp;water vapor which is mixed with it, and some of the water vapor must&nbsp;condense&nbsp;into liquid water.&nbsp; All such empirical equations are specific to the place where they were developed. Second, all such equations are daily averages that ignore the actual vertical temperature structure. Third, they assume perfectly clear skies, which may or may not be true. Fourth, one approach uses measurements with all their associated errors. Can get Sky emissivity from temperature and LWin</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="calculating-lw_downarrow-iclicker" class="slide level2 smaller">
<h2>Calculating <span class="math inline">\(LW_\downarrow\)</span> (iClicker)</h2>
<p>At 15:00, February 2nd, <span class="math inline">\(T_a = 9 ^\circ\)</span> and <span class="math inline">\(RH = 80%\)</span>, what was <span class="math inline">\(LW_\downarrow\)</span>?</p>
<div class="columns">
<div class="column" style="width:80%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-2"><a></a></span>
<span id="cb1-3"><a></a><span class="kw">class</span> get_epsilon_a():</span>
<span id="cb1-4"><a></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>,T_a,RH):</span>
<span id="cb1-5"><a></a>    <span class="cf">if</span> T_a <span class="op">&lt;</span> <span class="dv">100</span>:</span>
<span id="cb1-6"><a></a>      <span class="va">self</span>.T_a <span class="op">=</span> T_a</span>
<span id="cb1-7"><a></a>      <span class="va">self</span>.T_ak <span class="op">=</span> T_a<span class="op">+</span><span class="fl">273.15</span></span>
<span id="cb1-8"><a></a>    <span class="cf">else</span>:</span>
<span id="cb1-9"><a></a>      <span class="va">self</span>.T_ak<span class="op">=</span>T_a</span>
<span id="cb1-10"><a></a>      <span class="va">self</span>.T_a<span class="op">=</span>T_a<span class="op">-</span><span class="fl">273.15</span></span>
<span id="cb1-11"><a></a>    <span class="cf">if</span> RH<span class="op">&gt;</span><span class="dv">1</span>:</span>
<span id="cb1-12"><a></a>      <span class="va">self</span>.RH<span class="op">=</span>RH<span class="op">*</span><span class="fl">.01</span></span>
<span id="cb1-13"><a></a>    <span class="cf">else</span>:</span>
<span id="cb1-14"><a></a>      <span class="va">self</span>.RH<span class="op">=</span>RH</span>
<span id="cb1-15"><a></a>    <span class="va">self</span>.Prata()</span>
<span id="cb1-16"><a></a></span>
<span id="cb1-17"><a></a>  <span class="kw">def</span> Prata(<span class="va">self</span>):</span>
<span id="cb1-18"><a></a>    <span class="va">self</span>.Pv_from_RH()</span>
<span id="cb1-19"><a></a>    a <span class="op">=</span> <span class="fl">1.2</span></span>
<span id="cb1-20"><a></a>    b <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb1-21"><a></a>    zeta <span class="op">=</span> <span class="fl">46.5</span><span class="op">*</span>(<span class="va">self</span>.P_v<span class="op">/</span><span class="va">self</span>.T_ak)</span>
<span id="cb1-22"><a></a>    <span class="va">self</span>.epsilon_a <span class="op">=</span> <span class="dv">1</span><span class="op">-</span>(<span class="dv">1</span><span class="op">+</span>zeta)<span class="op">*</span>np.exp(<span class="op">-</span>(a<span class="op">+</span>b<span class="op">*</span>zeta)<span class="op">**</span><span class="fl">0.5</span>)</span>
<span id="cb1-23"><a></a></span>
<span id="cb1-24"><a></a>  <span class="kw">def</span> Pv_from_RH(<span class="va">self</span>):</span>
<span id="cb1-25"><a></a>    P_v_star <span class="op">=</span> <span class="fl">6.112</span><span class="op">*</span>np.exp(<span class="fl">17.62</span><span class="op">*</span><span class="va">self</span>.T_a<span class="op">/</span>(<span class="fl">243.12</span><span class="op">+</span><span class="va">self</span>.T_a))</span>
<span id="cb1-26"><a></a>    <span class="va">self</span>.P_v <span class="op">=</span> <span class="va">self</span>.RH<span class="op">*</span>P_v_star</span>
<span id="cb1-27"><a></a>e <span class="op">=</span> get_epsilon_a(<span class="dv">9</span>,<span class="dv">80</span>)</span>
<span id="cb1-28"><a></a>e.epsilon_a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>0.7709475025549156</code></pre>
</div>
</div>
</div><div class="column" style="width:20%;">
<ul>
<li>A 0.77</li>
<li>B 0.88</li>
<li>C 0.66</li>
<li>D 0.55</li>
<li>E 0.99</li>
</ul>
</div>
</div>
</section>
<section id="effects-of-temperature-and-humidity-iclicker" class="slide level2 smaller">
<h2>Effects of Temperature and Humidity (iClicker)</h2>
<div class="columns">
<div class="column" style="width:80%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="06_files/figure-revealjs/unnamed-chunk-5-1.png" width="614"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:20%;">
<p>Which property has a stronger effect?</p>
<ul>
<li>A <span class="math inline">\(T_a\)</span></li>
<li>B <span class="math inline">\(RH\)</span></li>
</ul>
</div>
</div>
</section>
<section class="slide level2">


<img data-src="images/06_29_3.png" class="r-stretch quarto-figure-center"><p class="caption">UBC Energy Balance Station “Westham Island” (Photo: A. Christen)</p></section>
<section class="slide level2">


<img data-src="images/06_30_0.jpg" class="r-stretch"><aside class="notes">
<p>Measures global and diffuse radiation</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="diurnal-course---clear-vs-cloudy-sky" class="slide level2">
<h2>Diurnal Course - Clear vs Cloudy Sky</h2>

<img data-src="06_files/figure-revealjs/unnamed-chunk-6-3.png" width="960" class="r-stretch"></section>
<section id="effect-of-clouds-on-longwave-irradiance" class="slide level2 smaller">
<h2>Effect of Clouds on Longwave Irradiance</h2>

<img data-src="images/06_34_2.png" class="r-stretch quarto-figure-center"><p class="caption">With a clear-sky, <span class="math inline">\(LW_\downarrow\)</span> originates from all layers of the atmosphere, because the atmosphere is partly transparent (‘atmospheric window’ open). With clouds <span class="math inline">\(LW_\downarrow\)</span> originates from the cloud base and the atmosphere below the cloud, because the cloud is opaque to long wave (‘atmospheric window’ closed).</p></section>
<section id="monthly-totals-of-lw_downarrow-lw_uparrow-at-ca-dbb" class="slide level2 smaller">
<h2>Monthly totals of <span class="math inline">\(LW_\downarrow\)</span> &amp; <span class="math inline">\(LW_\uparrow\)</span> at CA-DBB</h2>

<img data-src="06_files/figure-revealjs/unnamed-chunk-7-5.png" width="960" class="r-stretch"></section>
<section id="fingerprint-of-lw_downarrow-and-lw_uparrow-measured-in-vancouver" class="slide level2">
<h2>‘Fingerprint’ of <span class="math inline">\(LW_\downarrow\)</span> and <span class="math inline">\(LW_\uparrow\)</span> measured in Vancouver</h2>

<img data-src="images/06_36_2.png" class="r-stretch"></section>
<section id="take-home-points" class="slide level2">
<h2>Take Home Points</h2>
<div class="columns">
<div class="column" style="width:100%;">
<ul>
<li>Radiation laws apply the same way to the longwave part of the spectrum - but Kirchhoff’s law and the concept of emissivity become relevant.</li>
<li>The net-long wave radiation is driven by the difference in apparent sky and surface temperatures and hence clouds and thermal surface properties are controlling radiative exchange in the long-wave.</li>
</ul>
</div><div class="column" style="width:0%;">

</div>
</div>


</section>
    <div class="quarto-auto-generated-content">
<div class="footer footer-default">
<p><a href="index.html">Back to Homepage</a></p>
</div>
</div></div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': false,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'pdfMaxPagesPerSlide': 1,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: true,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: true,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'bottom-right',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>